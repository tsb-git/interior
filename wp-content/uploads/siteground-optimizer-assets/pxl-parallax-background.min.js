(function(e){var n={};function t(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)})([function(){"use strict";var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(function(e){var t=function(){function t(n,s){i(this,t);var o=this;o.settings=e.extend(!0,{event:"scroll",animation_type:"shift",zoom:20,rotate_perspective:1400,animate_duration:1,ignore_z_index:!1,gyroscope_event:!0},s),o.$element=e(n),o.$element_inner=o.$element.find(".parallax-inner"),o.data_options=o.$element.data("parallax-background"),o.settings=e.extend(!0,o.settings,o.data_options),o.inner_size=o.settings.zoom+100,o.coef=o.inner_size/100,o.shift=o.settings.zoom/2/o.coef,o.device_orientation="",o.viewport_top=0,o.viewport_bottom=0,o.init()}return o(t,[{key:"init",value:function(){if(typeof TweenLite=="undefined"){console.warn("TweenMax or TweenLite library is required... https://greensock.com/tweenlite");return}if(typeof CSSPlugin=="undefined"){console.warn("CSSPlugin in required... https://greensock.com/CSSPlugin");return}var n=this;n.set_elements_styles(),n.update_window_size(),n.update_orientation(),e(window).on("resize",function(){n.update_window_size(),n.update_orientation()}),n.settings.event=="scroll"&&(n.update_viewports(),e(window).on("scroll",function(){n.update_viewports()})),n.settings.event=="scroll"?n.subscribe_scroll_event():n.settings.event=="mouse_move"&&n.subscribe_mouse_move_event(),n.settings.gyroscope_event&&n.subscribe_gyro_event()}},{key:"update_window_size",value:function(){var t=this;t.ww=window.innerWidth,t.wh=window.innerHeight}},{key:"update_viewports",value:function(){var n=this;n.viewport_top=e(window).scrollTop(),n.viewport_bottom=n.viewport_top+n.wh}},{key:"set_elements_styles",value:function(){var t=this;t.$element.css({overflow:"hidden"}),t.$element_inner.css({top:-t.settings.zoom/2+"%",left:-t.settings.zoom/2+"%",height:t.inner_size+"%",width:t.inner_size+"%",position:"absolute"}),t.settings.animation_type=="rotate"&&(TweenLite.set(t.$element,{perspective:t.settings.rotate_perspective}),TweenLite.set(t.$element_inner,{transformStyle:"preserve-3d"}))}},{key:"update_orientation",value:function(){var t=this;t.ww>t.wh?t.device_orientation="landscape":t.device_orientation="portrait"}},{key:"subscribe_gyro_event",value:function(){var t=this,o=0,i=0,n=0,s=0;window.addEventListener("deviceorientation",function(e){var d,u,c=Math.round(e.gamma),l=Math.round(e.beta),a=0,r=0;c>o&&n<15?n++:c<o&&n>-15&&n--,l>i&&s<15?s++:l<i&&s>-15&&s--,o=c,i=l,d=100/15*n,u=100/15*s,t.device_orientation=="landscape"?(a=t.shift/t.coef/100*u,r=t.shift/t.coef/100*d):(a=t.shift/t.coef/100*d,r=t.shift/t.coef/100*u*-1),t.settings.animation_type=="shift"?TweenLite.to(t.$element_inner,t.settings.animate_duration,{x:r+"%",y:a+"%"}):t.settings.animation_type=="rotate"&&TweenLite.to(t.$element_inner,t.settings.animate_duration,{rotationX:-r+"%",rotationY:-a+"%"})},!0)}},{key:"get_cursor_shift_by_element",value:function(t,n,s){var o=this,i=t.offset(),a=t.outerWidth(),r=t.outerHeight(),c=n-i.left-t.width()*.5,l=s-i.top-t.height()*.5,d=c/a*2,u=l/r*2,h=o.shift*d,m=o.shift*u;return{x:h,y:m}}},{key:"is_cursor_on_element",value:function(t,n,s){var o=t.offset(),i=o.top,a=o.left,r=a+t.outerWidth(),c=i+t.outerHeight();return n>a&&n<r&&s>i&&s<c}},{key:"subscribe_mouse_move_event",value:function(){var s,n=this;n.settings.ignore_z_index?(s=!1,e(document).on("mousemove",function(e){if(n.is_cursor_on_element(n.$element,e.pageX,e.pageY)){var t=n.get_cursor_shift_by_element(n.$element,e.pageX,e.pageY,!0);i(t.x,t.y),s=!0}else s&&(o(),s=!1)})):(n.$element.on("mousemove",function(e){var t=n.get_cursor_shift_by_element(n.$element,e.pageX,e.pageY,!0);i(t.x,t.y)}),n.$element.mouseleave(function(){o()}));function o(){n.settings.animation_type=="shift"?TweenLite.to(n.$element_inner,n.settings.animate_duration,{x:"0%",y:"0%"}):n.settings.animation_type=="rotate"&&TweenLite.to(n.$element_inner,n.settings.animate_duration,{rotationX:0,rotationY:0})}function i(e,t){n.settings.animation_type=="shift"?TweenLite.to(n.$element_inner,n.settings.animate_duration,{x:e+"%",y:t+"%"}):n.settings.animation_type=="rotate"&&TweenLite.to(n.$element_inner,n.settings.animate_duration,{rotationX:t+"%",rotationY:-e+"%"})}}},{key:"subscribe_scroll_event",value:function(){var n=this,s=0,r=0,c=0,o=0,i=0,a=0;l(),d(),e(window).on("resize",function(){l()}),e(window).on("scroll resize",function(){d()});function l(){i=n.$element.outerHeight(),s=n.$element.offset().top,r=s+i,a=i+n.wh}function d(){n.viewport_bottom>s&&n.viewport_top<r?(n.$element.addClass("active"),c=n.viewport_bottom-s-a/2,o=c/(a/2),n.settings.animation_type=="shift"?TweenLite.to(n.$element_inner,n.settings.animate_duration,{y:n.shift*o+"%"}):n.settings.animation_type=="rotate"&&TweenLite.to(n.$element_inner,n.settings.animate_duration,{rotationX:n.shift*o+"%"})):n.$element.removeClass("active")}}}]),t}();e.fn.parallaxBackground=function(){var n=this,o=arguments[0],a=Array.prototype.slice.call(arguments,1),r=n.length,e=void 0,i=void 0;for(e=0;e<r;e++)if((typeof o=="undefined"?"undefined":s(o))=="object"||typeof o=="undefined"?n[e].parallax_background=new t(n[e],o):i=n[e].parallax_background[o].apply(n[e].parallax_background,a),typeof i!="undefined")return i;return n}})(jQuery)}])